{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ab6466d7_35afa4a8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1001815
      },
      "writtenOn": "2023-01-11T15:36:15Z",
      "side": 1,
      "message": "Thank you for the reviews, please find the new patch set.",
      "revId": "97c028cc6c8769b9f2e6724e8143d0aee0e0c5d7",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3cef6828_8ed2b24a",
        "filename": "catalogue-enhanced/src/catalogue_manager.py",
        "patchSetId": 5
      },
      "lineNbr": 109,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2023-01-11T21:49:32Z",
      "side": 1,
      "message": "Where does this file come from?",
      "range": {
        "startLine": 109,
        "startChar": 31,
        "endLine": 109,
        "endChar": 65
      },
      "revId": "97c028cc6c8769b9f2e6724e8143d0aee0e0c5d7",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6e03537d_17d0fa8d",
        "filename": "catalogue-enhanced/src/catalogue_manager.py",
        "patchSetId": 5
      },
      "lineNbr": 109,
      "author": {
        "id": 1001815
      },
      "writtenOn": "2023-01-12T16:28:40Z",
      "side": 1,
      "message": "\u0027/usr/src/app\u0027 is the base path for the docker container, \u0027/csar/rapp1/rapp1.csar\u0027 is from the project file structure that is instantiated in Dockerfile with \u0027COPY csar csar\u0027.",
      "parentUuid": "3cef6828_8ed2b24a",
      "range": {
        "startLine": 109,
        "startChar": 31,
        "endLine": 109,
        "endChar": 65
      },
      "revId": "97c028cc6c8769b9f2e6724e8143d0aee0e0c5d7",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eabca485_bafc5b27",
        "filename": "catalogue-enhanced/src/repository/synchronized_rapp_registry.py",
        "patchSetId": 5
      },
      "lineNbr": 31,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2023-01-11T21:49:32Z",
      "side": 1,
      "message": "This type of spinlock, combined with the sleep below can lead to lock starvation when there is alot of contention, or unnecessary sleeping/blocking when there is low contention. \n\nI think this should be something like \n\nislocked \u003d false; \nwhile ( ! islocked \u0026\u0026 retrycount++ \u003c MAXRETRY)\n    islocked \u003d self.lock.acquire(blocking\u003dtrue,timeout\u003d1.0)       /// 1 sec might be a bit short?\nif(! islocked)\n     log error \u0026 continue.\ntry\n   ...\n  ...\nfinally \n   if(islocked)\n      self.lock.release() ...",
      "range": {
        "startLine": 31,
        "startChar": 10,
        "endLine": 31,
        "endChar": 41
      },
      "revId": "97c028cc6c8769b9f2e6724e8143d0aee0e0c5d7",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "826c8ad5_a8079a8a",
        "filename": "catalogue-enhanced/src/repository/synchronized_rapp_registry.py",
        "patchSetId": 5
      },
      "lineNbr": 31,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2023-01-12T10:20:06Z",
      "side": 1,
      "message": "The lock aquire should be blocking and the should be no loop and no sleep. \n\nGeneric comment.",
      "range": {
        "startLine": 31,
        "startChar": 5,
        "endLine": 31,
        "endChar": 43
      },
      "revId": "97c028cc6c8769b9f2e6724e8143d0aee0e0c5d7",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9fa8aa70_d754e1f0",
        "filename": "catalogue-enhanced/src/repository/synchronized_rapp_registry.py",
        "patchSetId": 5
      },
      "lineNbr": 31,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2023-01-12T13:12:36Z",
      "side": 1,
      "message": "Please read:\nhttps://www.bogotobogo.com/python/Multithread/python_multithreading_Using_Locks_with_statement_Context_Manager.php\n\nThis is actually the best way to use locks in Python, :\n\n\nwith some_lock:\n    # do something...",
      "parentUuid": "826c8ad5_a8079a8a",
      "range": {
        "startLine": 31,
        "startChar": 5,
        "endLine": 31,
        "endChar": 43
      },
      "revId": "97c028cc6c8769b9f2e6724e8143d0aee0e0c5d7",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c0980893_c87c9094",
        "filename": "catalogue-enhanced/src/repository/synchronized_rapp_registry.py",
        "patchSetId": 5
      },
      "lineNbr": 31,
      "author": {
        "id": 1001815
      },
      "writtenOn": "2023-01-12T16:28:40Z",
      "side": 1,
      "message": "For the code readability and logging, I would like to use .acquire and .release methods instead of with some_lock. Thanks for your suggestion, since both are do the same job.",
      "parentUuid": "826c8ad5_a8079a8a",
      "range": {
        "startLine": 31,
        "startChar": 5,
        "endLine": 31,
        "endChar": 43
      },
      "revId": "97c028cc6c8769b9f2e6724e8143d0aee0e0c5d7",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "26e292a7_d55af22b",
        "filename": "catalogue-enhanced/src/repository/synchronized_rapp_registry.py",
        "patchSetId": 5
      },
      "lineNbr": 31,
      "author": {
        "id": 1001815
      },
      "writtenOn": "2023-01-12T16:28:40Z",
      "side": 1,
      "message": "I agree with having a limitation for the retries. However, as decided together in the daily meeting, after a discussion, I will use basic locking.",
      "parentUuid": "eabca485_bafc5b27",
      "range": {
        "startLine": 31,
        "startChar": 10,
        "endLine": 31,
        "endChar": 41
      },
      "revId": "97c028cc6c8769b9f2e6724e8143d0aee0e0c5d7",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5aa6611b_cec1a443",
        "filename": "catalogue-enhanced/src/repository/synchronized_rapp_registry.py",
        "patchSetId": 5
      },
      "lineNbr": 42,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2023-01-11T21:49:32Z",
      "side": 1,
      "message": "Perhaps all these print out might be too much. \nUse debug log instead.",
      "range": {
        "startLine": 42,
        "startChar": 10,
        "endLine": 42,
        "endChar": 15
      },
      "revId": "97c028cc6c8769b9f2e6724e8143d0aee0e0c5d7",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1fb92107_54b8f01b",
        "filename": "catalogue-enhanced/src/repository/synchronized_rapp_registry.py",
        "patchSetId": 5
      },
      "lineNbr": 42,
      "author": {
        "id": 1001815
      },
      "writtenOn": "2023-01-12T16:28:40Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5aa6611b_cec1a443",
      "range": {
        "startLine": 42,
        "startChar": 10,
        "endLine": 42,
        "endChar": 15
      },
      "revId": "97c028cc6c8769b9f2e6724e8143d0aee0e0c5d7",
      "serverId": "84e4e190-e623-4c37-9eda-58b1937c1b53"
    }
  ]
}